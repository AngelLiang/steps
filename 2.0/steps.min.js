!function(undefined){"use strict";var _global,utils_extend=function(o,n,override){for(var key in n)!n.hasOwnProperty(key)||o.hasOwnProperty(key)&&!override||(o[key]=n[key]);return o},steps=function(options){return new _steps(options)};function _steps(options){this._initial(options)}_steps.prototype={constructor:this,_initial:function(options){var _this=this,defined={el:"",data:[],props:{title:"title",description:"description",status:"status",icon:"icon",customHtml:"customHtml"},dataOrder:["line","title","description"],dataWidth:[],space:null,direction:"horizontal",iconType:"number",center:!1,active:0,dataSetStatus:!1,defaultClass:"step-default-class",finishClass:"step-finish-class",finishLine:!0,finishLineClass:"step-finish-line-bg",customClass:""};return this.options=utils_extend(defined,options,!0),this.options.el?this.options.data&&0!=this.options.data.length?(this.options.dataLength=this.options.data.length,void this.render()):(alert("请传入'data'参数"),!1):(alert("请传入'el'参数"),!1)},getBoxClass:function(){var _this=this,options=this.options,boxClass="";return"horizontal"==options.direction.toLowerCase()?(boxClass+="steps-horizontal",options.center&&(boxClass+=" steps-center")):"vertical"==options.direction.toLowerCase()?boxClass+="steps-vertical":alert("参数'direction'错误"),boxClass},getParentNode:function(){var _this=this,options=this.options,resultEl;return"object"==typeof options.el?resultEl=options.el:"string"==typeof options.el&&(resultEl=document.querySelector(options.el)),resultEl},render:function(){var _this=this,options=_this.options,boxHtml="",parentNode=_this.getParentNode();options.customClass&&(parentNode.className=parentNode.className+options.customClass),options.boxClass=_this.getBoxClass(),boxHtml+='<div class="steps {{boxClass}}">'.replace("{{boxClass}}",options.boxClass);var stepContainer="";if(options.data.forEach(function(currentValue,index,array){(currentValue[options.props.status]||0==currentValue[options.props.status])&&(options.dataSetStatus=!0),stepContainer=(stepContainer+='<div class="step {{stepClass}}" style="{{stepStyle}}">{{stepHtml}}</div>'.replace("{{stepClass}}",options.defaultClass+" "+(currentValue[options.props.status]?options.finishClass:!options.dataSetStatus&&index<=options.active?options.finishClass:""))).replace("{{stepStyle}}",_this.getStepStyle(index).join(""));var stepIconClass="",stepIconInnerClass="",stepIconInnerText="",stepHtml;"number"==options.iconType.toLowerCase()?(stepIconInnerClass="step-icon-number",stepIconInnerText=index+1):"bullets"==options.iconType.toLowerCase()?stepIconInnerClass="step-icon-bullets":"custom"==options.iconType.toLowerCase()&&(stepIconClass="step-icon-custom-box",stepIconInnerClass="step-icon-custom",stepIconInnerText=currentValue[options.props.icon]?currentValue[options.props.icon]:index+1);var stepLineBox='<div class="step-line-box" style="{{flexStyle}}order:'+options.dataOrder.indexOf("line")+'"><div class="step-line {{finishLineClass}}"></div><div class="step-icon '+stepIconClass+'"><div class="'+stepIconInnerClass+'">'+stepIconInnerText+"</div></div></div>",stepTitle='<div class="step-title" style="{{flexStyle}}order:'+options.dataOrder.indexOf("title")+'">'+currentValue[options.props.title]+"</div>",stepDesc='<div class="step-description" style="{{flexStyle}}order:'+options.dataOrder.indexOf("description")+'">'+currentValue[options.props.description]+"</div>";"vertical"==options.direction.toLowerCase()&&options.dataWidth.length>0?(stepLineBox=stepLineBox.replace("{{flexStyle}}","flex: 0 0 "+options.dataWidth[options.dataOrder.indexOf("line")]+";"),stepTitle=stepTitle.replace("{{flexStyle}}","flex: 0 0 "+options.dataWidth[options.dataOrder.indexOf("title")]+";"),stepDesc=stepDesc.replace("{{flexStyle}}","flex: 0 0 "+options.dataWidth[options.dataOrder.indexOf("description")]+";")):(stepLineBox=stepLineBox.replace("{{flexStyle}}",""),stepTitle=stepTitle.replace("{{flexStyle}}",""),stepDesc=stepDesc.replace("{{flexStyle}}","")),stepHtml=stepLineBox+stepTitle+stepDesc,currentValue[options.props.customHtml]&&(stepHtml+=currentValue[options.props.customHtml]),stepContainer=stepContainer.replace("{{stepHtml}}",stepHtml)}),options.dataSetStatus)stepContainer=stepContainer.replace(/{{finishLineClass}}/g,"");else if(options.finishLine)for(var i=0,len=options.dataLength;i<len;i++)stepContainer=i<options.active?stepContainer.replace(/{{finishLineClass}}/,options.finishLineClass):stepContainer.replace(/{{finishLineClass}}/,"");else stepContainer=stepContainer.replace(/{{finishLineClass}}/g,"");parentNode.innerHTML=boxHtml+stepContainer+"</div>"},getStepStyle:function(index){var _this=this,options=this.options,style=[],space="number"==typeof options.space?options.space+"px":options.space?options.space:100/(options.dataLength-(options.center?0:1))+"%";return style.push("flex-basis:"+space+";"),options.center||index!=options.dataLength-1||(style.length=0,style.push("flex-basis: auto!important;"),style.push("flex-shrink: 0;"),style.push("flex-grow: 0;"),style.push("max-width:"+100/options.dataLength+"%;")),style},setActive:function(num){var _this=this;this.options.dataSetStatus?alert("参数'data'中已设置'status',参数'active'已停用"):(this.options.active=num,this.render())},getActive:function(){var _this=this;if(!this.options.dataSetStatus)return this.options.active;alert("参数'data'中已设置'status',参数'active'已停用")}},_global=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=steps:"function"==typeof define&&define.amd?define(function(){return steps}):!("steps"in _global)&&(_global.steps=steps)}();